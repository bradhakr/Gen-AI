{
  "internalIdps": [
    {
      "goid": "0000000000000000fffffffffffffffe",
      "name": "Internal Identity Provider",
      "checksum": "909dcb79418e5aaca75df96cc0ec2b2cbc3bdef4",
      "certValidation": "USE_DEFAULT"
    }
  ],
  "services": [
    {
      "goid": "238605d46c2bbf614b6aeeac4e551d29",
      "guid": "384cbbed-2659-4b7c-846d-bb624e0618c1",
      "name": "GenAI - Dynamic Policy Adding using Graphman - AddPolicy",
      "resolutionPath": "/rest/genAI/import/addPolicy",
      "serviceType": "WEB_API",
      "checksum": "ca40d7e8d2cec44e0b486ad3db8d42724d0c64ec",
      "enabled": true,
      "folderPath": "/GenAI",
      "methodsAllowed": [
        "GET",
        "POST",
        "PUT",
        "DELETE"
      ],
      "tracingEnabled": false,
      "wssProcessingEnabled": false,
      "laxResolution": false,
      "policy": {
        "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"API :- Layer7 Add Policy using Graphman\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"************************************************************\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"API Group :- REST Encryption\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"API TYPE :- REST\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"Author: Balaji Radhakrishnan\"/>\n        </L7p:CommentAssertion>\n        <L7p:CommentAssertion>\n            <L7p:Comment stringValue=\"************************************************************\"/>\n        </L7p:CommentAssertion>\n        <wsp:All wsp:Usage=\"Required\">\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"ew0KICAgICJFeGNlcHRpb24iOiAiUmVxdWVzdCBGYWlsZWQiLA0KICAgICJEZXNjcmlwdGlvbiI6ICJVbmFibGUgdG8gZXhlY3V0ZSB0aGUgcmVxdWVzdCwgcGxlYXNlIGNvbnRhY3QgYWRtaW4uICINCn0=\"/>\n                <L7p:VariableToSet stringValue=\"error\"/>\n            </L7p:SetVariable>\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"NTAw\"/>\n                <L7p:VariableToSet stringValue=\"errorCode\"/>\n            </L7p:SetVariable>\n        </wsp:All>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICJFeGNlcHRpb24iOiAiUmVxdWVzdCBGYWlsZWQiLA0KICAgICJEZXNjcmlwdGlvbiI6ICJOb3QgYSBIVFRQUyByZXF1ZXN0LCBwbGVhc2UgdXBncmFkZSB0aGUgcmV1ZXN0LiINCn0=\"/>\n                        <L7p:VariableToSet stringValue=\"error\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"NDI2\"/>\n                        <L7p:VariableToSet stringValue=\"errorCode\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <L7p:SslAssertion/>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICJFeGNlcHRpb24iOiAiQXV0aGVudGljYXRpb24gRmFpbGVkIiwNCiAgICAiRGVzY3JpcHRpb24iOiAiTWlzc2luZyBvciBJbnZhbGlkIFVzZXIgQ3JlZGVudGlhbHMiDQp9\"/>\n                        <L7p:VariableToSet stringValue=\"error\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"NDAx\"/>\n                        <L7p:VariableToSet stringValue=\"errorCode\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <L7p:HttpBasic/>\n                <L7p:Authentication>\n                    <L7p:IdentityProviderOid goidValue=\"0000000000000000fffffffffffffffe\"/>\n                </L7p:Authentication>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICJFeGNlcHRpb24iOiAiUmF0ZSBMaW1pdCBGYWlsZWQiLA0KICAgICJEZXNjcmlwdGlvbiI6ICJSYXRlIExpbWl0IGhhcyBiZWVuIGFwcGxpZWQsIHBsZWFzZSB0cnkgZmV3IG1pbiBsYXRlci4iDQp9\"/>\n                        <L7p:VariableToSet stringValue=\"error\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"NDI5\"/>\n                        <L7p:VariableToSet stringValue=\"errorCode\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <L7p:RateLimit>\n                    <L7p:CounterName stringValue=\"PRESET(22294c1c291b31fe)${request.clientid}\"/>\n                    <L7p:MaxRequestsPerSecond stringValue=\"10\"/>\n                </L7p:RateLimit>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICJFeGNlcHRpb24iOiAiUG9saWN5IEltcG9ydCBGYWlsZWQiLA0KICAgICJEZXNjcmlwdGlvbiI6ICJVbmFibGUgdG8gaW1wb3J0IHRoZSBwb2xpY3ksIHBsZWFzZSBjb250YWN0IGFkbWluLiINCn0=\"/>\n                        <L7p:VariableToSet stringValue=\"error\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"NDAw\"/>\n                        <L7p:VariableToSet stringValue=\"errorCode\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:Regex>\n                        <L7p:AutoTarget booleanValue=\"false\"/>\n                        <L7p:CaseInsensitive booleanValue=\"true\"/>\n                        <L7p:Regex stringValue=\">\"/>\n                        <L7p:RegexName stringValue=\"LineBreak\"/>\n                        <L7p:Replace booleanValue=\"true\"/>\n                        <L7p:Replacement stringValue=\">\\\\n\"/>\n                    </L7p:Regex>\n                    <L7p:Regex>\n                        <L7p:AutoTarget booleanValue=\"false\"/>\n                        <L7p:Regex stringValue=\"&quot;\"/>\n                        <L7p:RegexName stringValue=\"EscapeCharecter\"/>\n                        <L7p:Replace booleanValue=\"true\"/>\n                        <L7p:Replacement stringValue=\"\\\\&quot;\"/>\n                    </L7p:Regex>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lm1haW5wYXJ0fQ==\"/>\n                        <L7p:ContentType stringValue=\"text/xml; charset=utf-8\"/>\n                        <L7p:DataType variableDataType=\"message\"/>\n                        <L7p:VariableToSet stringValue=\"policyData\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLmVuZHBvaW50fQ==\"/>\n                        <L7p:VariableToSet stringValue=\"resolutionPath\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"JHtyZXF1ZXN0Lmh0dHAuaGVhZGVyLmZvbGRlcn0=\"/>\n                        <L7p:VariableToSet stringValue=\"folder\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"InF1ZXJ5IjogIm11dGF0aW9uIHNldFdlYkFwaVNlcnZpY2VzIChcbiAgICAkd2ViQXBpU2VydmljZXM6IFtXZWJBcGlTZXJ2aWNlSW5wdXQhXSEsXG4gICAgJGNsdXN0ZXJQcm9wZXJ0aWVzOiBbQ2x1c3RlclByb3BlcnR5SW5wdXQhXSEpIHtcbiAgICAjIEVuc3VyZSB0aGUgYXZhaWxhYmlsaXR5IG9mIFdlYiBBUEkgc2VydmljZSBkZXBlbmRlbmNpZXNcbiAgICBzZXRDbHVzdGVyUHJvcGVydGllcyhpbnB1dDogJGNsdXN0ZXJQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGRldGFpbGVkU3RhdHVzIHtzdGF0dXMgZGVzY3JpcHRpb259XG4gICAgICAgIGNsdXN0ZXJQcm9wZXJ0aWVzIHtcbiAgICAgICAgICAgIGdvaWRcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIGNoZWNrc3VtXG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0V2ViQXBpU2VydmljZXMgKGlucHV0OiAkd2ViQXBpU2VydmljZXMpIHtcbiAgICAgICAgZGV0YWlsZWRTdGF0dXMge3N0YXR1cyBkZXNjcmlwdGlvbn1cbiAgICAgICAgd2ViQXBpU2VydmljZXMge1xuICAgICAgICAgICAgZ29pZFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgcmVzb2x1dGlvblBhdGhcbiAgICAgICAgICAgIGNoZWNrc3VtXG4gICAgICAgIH1cbiAgICB9XG59Ig==\"/>\n                        <L7p:VariableToSet stringValue=\"query\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"InZhcmlhYmxlcyI6IHsNCiAgICAgICAgIndlYkFwaVNlcnZpY2VzIjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJuYW1lIjogIkdlbkFJIC0gV2ViVmlldyIsDQogICAgICAgICAgICAgICAgInJlc29sdXRpb25QYXRoIjogIiR7cmVzb2x1dGlvblBhdGh9IiwNCiAgICAgICAgICAgICAgICAiZW5hYmxlZCI6IHRydWUsDQogICAgICAgICAgICAgICAgImZvbGRlclBhdGgiOiAiJHtmb2xkZXJ9IiwNCiAgICAgICAgICAgICAgICAibWV0aG9kc0FsbG93ZWQiOiBbDQogICAgICAgICAgICAgICAgICAgICJHRVQiLA0KICAgICAgICAgICAgICAgICAgICAiUE9TVCIsDQogICAgICAgICAgICAgICAgICAgICJQVVQiLA0KICAgICAgICAgICAgICAgICAgICAiREVMRVRFIiwNCiAgICAgICAgICAgICAgICAgICAgIk9QVElPTlMiDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAidHJhY2luZ0VuYWJsZWQiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAid3NzUHJvY2Vzc2luZ0VuYWJsZWQiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAicG9saWN5Ijogew0KICAgICAgICAgICAgICAgICAgICAieG1sIjogIiR7cG9saWN5RGF0YS5tYWlucGFydH0iDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICAiY2x1c3RlclByb3BlcnRpZXMiOiBbIF0NCiAgICB9\"/>\n                        <L7p:VariableToSet stringValue=\"queryVariables\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICR7cXVlcnl9LA0KICAgICR7cXVlcnlWYXJpYWJsZXN9ICAgDQp9\"/>\n                        <L7p:ContentType stringValue=\"application/json; charset=utf-8\"/>\n                        <L7p:DataType variableDataType=\"message\"/>\n                        <L7p:VariableToSet stringValue=\"ReqPayload\"/>\n                    </L7p:SetVariable>\n                    <L7p:GatewayGraphQL>\n                        <L7p:OtherTargetMessageVariable stringValue=\"reqPayload\"/>\n                        <L7p:Target target=\"OTHER\"/>\n                    </L7p:GatewayGraphQL>\n                    <L7p:HardcodedResponse>\n                        <L7p:Base64ResponseBody stringValue=\"JHtyZXFQYXlsb2FkLm1haW5wYXJ0fQ==\"/>\n                        <L7p:Enabled booleanValue=\"false\"/>\n                        <L7p:ResponseContentType stringValue=\"application/json; charset=UTF-8\"/>\n                    </L7p:HardcodedResponse>\n                    <L7p:HardcodedResponse>\n                        <L7p:Base64ResponseBody stringValue=\"JHtyZXNwb25zZS5tYWlucGFydH0=\"/>\n                        <L7p:ResponseContentType stringValue=\"application/json; charset=UTF-8\"/>\n                    </L7p:HardcodedResponse>\n                </wsp:All>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:CustomizeErrorResponse>\n                    <L7p:Content stringValue=\"${error}\"/>\n                    <L7p:ContentType stringValue=\"application/json; charset=UTF-8\"/>\n                    <L7p:ExtraHeaders nameValuePairArray=\"included\">\n                        <L7p:item nameValuePair=\"included\">\n                            <L7p:Key stringValue=\"APIM-ERR-CODE\"/>\n                            <L7p:Value stringValue=\"${errorCode}\"/>\n                        </L7p:item>\n                    </L7p:ExtraHeaders>\n                    <L7p:HttpStatus stringValue=\"${errorCode}\"/>\n                    <L7p:IncludePolicyDownloadURL booleanValue=\"true\"/>\n                </L7p:CustomizeErrorResponse>\n                <L7p:RaiseError/>\n            </wsp:All>\n        </wsp:OneOrMore>\n    </wsp:All>\n</wsp:Policy>\n"
      }
    },
    {
      "goid": "6fac0cde1e11b7f7954715a25cca4276",
      "guid": "58611711-1549-4dd6-8a23-1c92ae894a2c",
      "name": "GenAI - WebView",
      "resolutionPath": "/rest/genAI/second-api",
      "serviceType": "WEB_API",
      "checksum": "a1f668c72be61a40b05682f5f18b7070d8c72f24",
      "enabled": true,
      "folderPath": "/GenAI",
      "methodsAllowed": [
        "GET",
        "POST",
        "PUT",
        "DELETE",
        "OPTIONS"
      ],
      "tracingEnabled": false,
      "wssProcessingEnabled": false,
      "laxResolution": false,
      "policy": {
        "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <wsp:All wsp:Usage=\"Required\">\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"ew0KICAgICJSZXNwb25zZSI6ICJSZXF1ZXN0IEZhaWxlZCIsDQogICAgIkRlc2NyaXB0aW9uIjogIlJlcXVlc3RlZCBBUEkgQ2FsbCBmYWlsZWQuIg0KDQp9\"/>\n                <L7p:VariableToSet stringValue=\"error\"/>\n            </L7p:SetVariable>\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"NTAw\"/>\n                <L7p:VariableToSet stringValue=\"errorCode\"/>\n            </L7p:SetVariable>\n        </wsp:All>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <wsp:All wsp:Usage=\"Required\">\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICJSZXNwb25zZSI6ICJSZXF1ZXN0IEZhaWxlZCIsDQogICAgIkRlc2NyaXB0aW9uIjogIk9ubHkgSFRUUFMgUmVxdWVzdCB3aWxsIHdvcmsiDQoNCn0=\"/>\n                        <L7p:VariableToSet stringValue=\"error\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"NTAw\"/>\n                        <L7p:VariableToSet stringValue=\"errorCode\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <L7p:SslAssertion/>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICJSZXNwb25zZSI6ICJBdXRoZW50aWNhdGlvbiBGYWlsZWQiLA0KICAgICJEZXNjcmlwdGlvbiI6ICJVc2VyIG5vdCBGb3VuZCINCg0KfQ==\"/>\n                        <L7p:VariableToSet stringValue=\"error\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"NDAy\"/>\n                        <L7p:VariableToSet stringValue=\"errorCode\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <L7p:HttpBasic/>\n                <L7p:Authentication>\n                    <L7p:IdentityProviderOid goidValue=\"0000000000000000fffffffffffffffe\"/>\n                </L7p:Authentication>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"ew0KICAgICJSZXNwb25zZSI6ICJUaHJvdHRsaW5nIEZhaWxlZCIsDQogICAgIkRlc2NyaXB0aW9uIjogIlJlcXVlc3QgcmVhY2hlZCB0aGUgTGltaXQsIHBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIiDQoNCn0=\"/>\n                        <L7p:VariableToSet stringValue=\"error\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"NDI5\"/>\n                        <L7p:VariableToSet stringValue=\"errorCode\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <L7p:RateLimit>\n                    <L7p:CounterName stringValue=\"PRESET(0490e2ae1acdc8ed)${request.clientid}\"/>\n                    <L7p:MaxConcurrency stringValue=\"1\"/>\n                    <L7p:MaxRequestsPerSecond stringValue=\"2\"/>\n                </L7p:RateLimit>\n                <L7p:HardcodedResponse>\n                    <L7p:Base64ResponseBody stringValue=\"ewogICAiQVBJIjogIkdlbmVyYXRlZCBBSSBBUEkiLAogICAiUmVzcG9uc2UiOiAiR29vZ2xlIFZlcnRleCBBSSBHZW5lcmF0ZWQgdGhpcyBBUEkiCn0=\"/>\n                    <L7p:ResponseContentType stringValue=\"application/json; charset=UTF-8\"/>\n                </L7p:HardcodedResponse>\n            </wsp:All>\n            <wsp:All wsp:Usage=\"Required\">\n                <L7p:CustomizeErrorResponse>\n                    <L7p:Content stringValue=\"${error}\"/>\n                    <L7p:ContentType stringValue=\"application/json; charset=UTF-8\"/>\n                    <L7p:ExtraHeaders nameValuePairArray=\"included\">\n                        <L7p:item nameValuePair=\"included\">\n                            <L7p:Key stringValue=\"CAError\"/>\n                            <L7p:Value stringValue=\"${errorCode}\"/>\n                        </L7p:item>\n                    </L7p:ExtraHeaders>\n                    <L7p:IncludePolicyDownloadURL booleanValue=\"true\"/>\n                </L7p:CustomizeErrorResponse>\n                <L7p:RaiseError/>\n            </wsp:All>\n        </wsp:OneOrMore>\n    </wsp:All>\n</wsp:Policy>\n"
      }
    }
  ],
  "properties": {
    "meta": {
      "id": "ea891b8e-b0e0-45b3-b566-287d4cd0fe0e",
      "name": "Gateway Graphman Bundle - 2024-10-15T20:06:17.353Z",
      "author": "admin",
      "hostname": "apimgw.gcp.security.broadcom.com",
      "timestamp": "2024-10-15T20:06:17.353Z"
    },
    "defaultAction": "NEW_OR_UPDATE"
  }
}